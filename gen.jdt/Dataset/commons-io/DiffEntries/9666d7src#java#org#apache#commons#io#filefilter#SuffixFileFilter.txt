Previous File: OUTPUT/commons-io/prevFiles/prev_9666d7src#java#org#apache#commons#io#filefilter#SuffixFileFilter.java
Revised File: OUTPUT/commons-io/revFiles/9666d7src#java#org#apache#commons#io#filefilter#SuffixFileFilter.java
DiffEntry: @@ -20,2 +20,3 @@
 import java.util.List;
+import org.apache.commons.io.IOCase;
 

@@ -49,2 +50,5 @@
 
+    /** Whether the comparison is case sensitive. */
+    private IOCase caseSensitivity = IOCase.SENSITIVE;
+
     /**

@@ -60,2 +64,16 @@
         this.suffixes = new String[] {suffix};
+    }
+
+    /**
+     * Constructs a new Suffix file filter for a single extension
+     * specifying case-sensitivity.
+     *
+     * @param suffix  the suffix to allow, must not be null
+     * @param caseSensitivity  how to handle case sensitivity, null means case-sensitive
+     * @throws IllegalArgumentException if the suffix is null
+     * @since Commons IO 1.4
+     */
+    public SuffixFileFilter(String suffix, IOCase caseSensitivity) {
+        this(suffix);
+        this.caseSensitivity = (caseSensitivity == null ? IOCase.SENSITIVE : caseSensitivity);
     }

@@ -79,2 +97,19 @@
     /**
+     * Constructs a new Suffix file filter for an array of suffixs
+     * specifying case-sensitivity.
+     * <p>
+     * The array is not cloned, so could be changed after constructing the
+     * instance. This would be inadvisable however.
+     * 
+     * @param suffixes  the suffixes to allow, must not be null
+     * @param caseSensitivity  how to handle case sensitivity, null means case-sensitive
+     * @throws IllegalArgumentException if the suffix array is null
+     * @since Commons IO 1.4
+     */
+    public SuffixFileFilter(String[] suffixes, IOCase caseSensitivity) {
+        this(suffixes);
+        this.caseSensitivity = (caseSensitivity == null ? IOCase.SENSITIVE : caseSensitivity);
+    }
+
+    /**
      * Constructs a new Suffix file filter for a list of suffixes.

@@ -93,2 +128,17 @@
     /**
+     * Constructs a new Suffix file filter for a list of suffixes
+     * specifying case-sensitivity.
+     * 
+     * @param suffixes  the suffixes to allow, must not be null
+     * @param caseSensitivity  how to handle case sensitivity, null means case-sensitive
+     * @throws IllegalArgumentException if the suffix list is null
+     * @throws ClassCastException if the list does not contain Strings
+     * @since Commons IO 1.4
+     */
+    public SuffixFileFilter(List suffixes, IOCase caseSensitivity) {
+        this(suffixes);
+        this.caseSensitivity = (caseSensitivity == null ? IOCase.SENSITIVE : caseSensitivity);
+    }
+
+    /**
      * Checks to see if the filename ends with the suffix.

@@ -101,3 +151,3 @@
         for (int i = 0; i < this.suffixes.length; i++) {
-            if (name.endsWith(this.suffixes[i])) {
+            if (caseSensitivity.checkEndsWith(name, suffixes[i])) {
                 return true;

@@ -117,3 +167,3 @@
         for (int i = 0; i < this.suffixes.length; i++) {
-            if (name.endsWith(this.suffixes[i])) {
+            if (caseSensitivity.checkEndsWith(name, suffixes[i])) {
                 return true;

