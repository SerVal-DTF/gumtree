Previous File: OUTPUT/commons-io/prevFiles/prev_ad4841src#java#org#apache#commons#io#IOUtils.java
Revised File: OUTPUT/commons-io/revFiles/ad4841src#java#org#apache#commons#io#IOUtils.java
DiffEntry: @@ -19,2 +19,3 @@
 import java.io.BufferedReader;
+import java.io.ByteArrayInputStream;
 import java.io.CharArrayWriter;

@@ -67,2 +68,3 @@
  * @author Gareth Davis
+ * @author Ian Springer
  * @version CVS $Revision$ $Date$

@@ -71,4 +73,4 @@
     // NOTE: This class is focussed on InputStream, OutputStream, Reader and
-    // Writer. Each method should take at least one of these as a parameter.
-    // NOTE: This class should not depend on any other classes
+    // Writer. Each method should take at least one of these as a parameter,
+    // or return one of them.
 

@@ -392,2 +394,31 @@
 
+    /**
+     * Convert the specified string to an input stream, encoded as bytes
+     * using the default character encoding of the platform.
+     *
+     * @param input the string to convert
+     * @return an input stream
+     */
+    public static InputStream toInputStream(String input) {
+        byte[] bytes = input.getBytes();
+        return new ByteArrayInputStream(bytes);
+    }
+
+    /**
+     * Convert the specified string to an input stream, encoded as bytes
+     * using the specified character encoding.
+     * <p>
+     * Character encoding names can be found at
+     * <a href="http://www.iana.org/assignments/character-sets">IANA</a>.
+     *
+     * @param input the string to convert
+     * @param encoding the encoding to use, null means platform default
+     * @throws IOException if the encoding is invalid
+     * @return an input stream
+     */
+    public static InputStream toInputStream(String input, String encoding) throws IOException {
+        byte[] bytes = encoding != null ? input.getBytes(encoding) : input.getBytes();
+        return new ByteArrayInputStream(bytes);
+    }
+
     // write byte[]

