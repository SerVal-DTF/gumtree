Previous File: OUTPUT/commons-io/prevFiles/prev_1bdcc3src#java#org#apache#commons#io#FileUtils.java
Revised File: OUTPUT/commons-io/revFiles/1bdcc3src#java#org#apache#commons#io#FileUtils.java
DiffEntry: @@ -80,3 +80,3 @@
  * @author <a href="mailto:jeremias@apache.org">Jeremias Maerki</a>
- * @version $Id: FileUtils.java,v 1.28 2004/03/12 21:44:25 jeremias Exp $
+ * @version $Id: FileUtils.java,v 1.29 2004/03/12 22:21:38 jeremias Exp $
  */

@@ -334,2 +334,3 @@
      * <code>destinationDirectory</code> exists, it will be overwritten.
+     * The copy will have the same file date as the original.
      *

@@ -352,3 +353,3 @@
 
-        copyFile(source, new File(destinationDirectory, source.getName()));
+        copyFile(source, new File(destinationDirectory, source.getName()), true);
     }

@@ -359,2 +360,3 @@
      * <code>destination</code> will be overwritten if it already exists.
+     * The copy will have the same file date as the original.
      *

@@ -372,3 +374,27 @@
     public static void copyFile(File source, File destination)
-        throws IOException {
+                throws IOException {
+        copyFile(source, destination, true);
+    }
+                
+                
+    /**
+     * Copy file from source to destination. The directories up to 
+     * <code>destination</code> will be created if they don't already exist. 
+     * <code>destination</code> will be overwritten if it already exists.
+     *
+     * @param source An existing non-directory <code>File</code> to copy 
+     * bytes from.
+     * @param destination A non-directory <code>File</code> to write bytes to 
+     * (possibly overwriting).
+     * @param preserveFileDate True if the file date of the copy should be the
+     * same as the original.
+     *
+     * @throws IOException if <code>source</code> does not exist, <code>destination</code> cannot be
+     * written to, or an IO error occurs during copying.
+     *
+     * @throws FileNotFoundException if <code>destination</code> is a directory
+     * (use {@link #copyFileToDirectory}).
+     */
+    public static void copyFile(File source, File destination, boolean preserveFileDate)
+                throws IOException {
         //check source exists

@@ -412,2 +438,7 @@
         }
+        
+        if (preserveFileDate) {
+            //file copy should preserve file date
+            destination.setLastModified(source.lastModified());        
+        }
     }

