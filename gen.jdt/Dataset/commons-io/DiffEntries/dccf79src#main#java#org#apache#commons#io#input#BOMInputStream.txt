Previous File: OUTPUT/commons-io/prevFiles/prev_dccf79src#main#java#org#apache#commons#io#input#BOMInputStream.java
Revised File: OUTPUT/commons-io/revFiles/dccf79src#main#java#org#apache#commons#io#input#BOMInputStream.java
DiffEntry: @@ -286,3 +286,3 @@
         int secondCount = in.read(buf, off, len);
-        return (secondCount < 0) ? firstCount : firstCount + secondCount;
+        return (secondCount < 0) ? (firstCount > 0 ? firstCount : -1) : firstCount + secondCount;
     }

